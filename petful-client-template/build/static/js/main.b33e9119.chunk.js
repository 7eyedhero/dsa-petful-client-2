(this["webpackJsonppetful-client"]=this["webpackJsonppetful-client"]||[]).push([[0],{20:function(e,t,n){e.exports=n.p+"static/media/dogncat.856345af.jpg"},22:function(e,t,n){e.exports=n(36)},23:function(e,t,n){},28:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);n(23);var a=n(0),l=n.n(a),r=n(19),c=n.n(r),o=n(6),i=n(7),u=n(9),s=n(8),p=n(10),m=n(13),h=n(1),d=(n(28),n(20)),f=n.n(d),E=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("img",{id:"landingPic",src:f.a,alt:"a cute image of a kitten and a puppy."}),l.a.createElement("p",{className:"siteDesc"},'Welcome to Petful, an online pet adoption service for dogs and cats. Our adoption policy works on a strictly "first in, first out" basis where you may adopt either a dog, a cat, or both, with the only stipulation being that you can only adopt the animal that came to the shelter first. If you would like to begin the process and put yourself on the adoption queue, please click the button below!'),l.a.createElement("br",null),l.a.createElement(m.b,{to:"/AdoptionPage"},l.a.createElement("button",{id:"startButton"},"Begin")))}}]),t}(a.Component),b=(n(34),function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"header"},l.a.createElement("h1",{className:"siteName"},"Petful"))}}]),t}(a.Component)),g=(n(35),"https://petful-server-pt.herokuapp.com/"),y=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(l)))).state={dog:{},cat:{},people:[],currentUser:null,petChoice:!0},n.updatePeopleList=function(){fetch("".concat(g,"/people")).then((function(e){return e.json()})).then((function(e){console.log(e),n.setState({people:e})}))},n}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat(g,"/pets")).then((function(e){return e.json()})).then((function(t){e.setState({dog:t.nextDog,cat:t.nextCat})})),fetch("".concat(g,"/people")).then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({people:t})}))}},{key:"onJoinQueue",value:function(e){e.preventDefault();var t={Name:e.target.name.value},n=this.state.people;n.push(e.target.name.value),fetch("".concat(g,"/people"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(t)}),this.setState({people:n,currentUser:e.target.name.value});var a=this,l=setInterval((function(){var e;e=!0===a.state.petChoice?{type:"cat"}:{type:"dog"},a.fetchData(e),a.setState({petChoice:!a.state.petChoice}),a.state.people[1]===a.state.currentUser&&clearInterval(l)}),5e3);e.target.name.value=""}},{key:"fetchData",value:function(e){var t=this;fetch("".concat(g,"/pets"),{method:"DELETE",headers:{"content-type":"application/json"},body:JSON.stringify(e)}).then((function(){return fetch("".concat(g,"/pets"))})).then((function(e){return e.json()})).then((function(e){return t.setState({dog:e.nextDog,cat:e.nextCat}),fetch("".concat(g,"/people"))})).then((function(e){return e.json()})).then((function(e){t.setState({people:e})}))}},{key:"nextInLine",value:function(){var e=[{Name:"Sasha Morales"},{Name:"Trinity Hart"},{Name:"Ariel Forrest"},{Name:"Bob Pilterfrost"}],t=this,n=3;this.state.people.push(e[n].Name);var a=setInterval((function(){fetch("".concat(g,"/people"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(e[n--])}).then((function(){t.updatePeopleList()})),-1===n&&clearInterval(a)}),5e3)}},{key:"adopt",value:function(e){e.preventDefault();var t={type:e.target.id};this.fetchData(t),alert("Congratulations! You have successfully adopted your new pet!!")}},{key:"render",value:function(){var e=this,t=this.state.people,n=this.state.dog,a=this.state.cat;return t[0]===this.state.currentUser&&1===t.length&&this.nextInLine(),l.a.createElement("div",{className:"adoption"},l.a.createElement("h1",null,"Adopt a Pet"),l.a.createElement("div",{className:"pets-container"},l.a.createElement("div",{className:"dogBox"},l.a.createElement("h2",null,"Next Dog Up!"),l.a.createElement("img",{src:n.imageURL,alt:n.description}),l.a.createElement("li",{className:"imageDesc"},l.a.createElement("br",null),l.a.createElement("em",null,'"',n.description,'"')),l.a.createElement("ul",null,l.a.createElement("br",null),l.a.createElement("li",null,"Name: ",n.name),l.a.createElement("br",null),l.a.createElement("li",null,"Gender: ",n.gender),l.a.createElement("br",null),l.a.createElement("li",null,"Age: ",n.age," years old"),l.a.createElement("br",null),l.a.createElement("li",null,"Breed: ",n.breed),l.a.createElement("br",null),l.a.createElement("li",null,"Story: ",n.story)),this.state.currentUser&&this.state.currentUser===t[0]&&l.a.createElement("form",{id:"dog"},l.a.createElement("button",{id:"dog",onClick:function(t){return e.adopt(t)}},"Adopt Me!"))),l.a.createElement("div",{className:"catBox"},l.a.createElement("h2",null,"Next Cat Up!"),l.a.createElement("img",{src:a.imageURL,alt:a.description}),l.a.createElement("li",{className:"imageDesc"},l.a.createElement("br",null),l.a.createElement("em",null,'"',a.description,'"')),l.a.createElement("ul",null,l.a.createElement("br",null),l.a.createElement("li",null,"Name: ",a.name),l.a.createElement("br",null),l.a.createElement("li",null,"Gender: ",a.gender),l.a.createElement("br",null),l.a.createElement("li",null,"Age: ",a.age," years old"),l.a.createElement("br",null),l.a.createElement("li",null,"Breed: ",a.breed),l.a.createElement("br",null),l.a.createElement("li",null,"Story: ",a.story)),this.state.currentUser&&this.state.currentUser===t[0]&&l.a.createElement("form",{id:"cat"},l.a.createElement("button",{id:"cat",onClick:function(t){return e.adopt(t)}},"Adopt Me!")))),l.a.createElement("section",{className:"adoptionQ"},l.a.createElement("h3",null,"In love yet? Join the queue below..."),l.a.createElement("label",null,"Adoption Queue"),l.a.createElement("ol",null,t.map((function(e){return l.a.createElement("li",null,e)}))),l.a.createElement("form",{onSubmit:function(t){return e.onJoinQueue(t)}},l.a.createElement("label",null,"Name:"),l.a.createElement("input",{type:"text",name:"name"}),l.a.createElement("button",null,"Join Queue"))))}}]),t}(a.Component),v=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement(m.a,null,l.a.createElement(b,null),l.a.createElement(h.a,{exact:!0,path:"/",component:E}),l.a.createElement(h.a,{exact:!0,path:"/AdoptionPage",component:y}))}}]),t}(a.Component);c.a.render(l.a.createElement(v,null),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.b33e9119.chunk.js.map